[
    {
        "id": "face_age_detection_tab",
        "type": "tab",
        "label": "äººè„¸å¹´é¾„æ£€æµ‹ (Face Age Detection)",
        "info": "# äººè„¸å¹´é¾„æ£€æµ‹åº”ç”¨ç¤ºä¾‹ (Face Age Detection)\n\n**åŠŸèƒ½è¯´æ˜**ï¼šåŸºäºmono2d_body_detectionçš„äººè„¸å¹´é¾„æ£€æµ‹ï¼Œæ”¯æŒMIPIå’ŒUSBæ‘„åƒå¤´å®æ—¶æ£€æµ‹\n\n**å‚è€ƒç¤ºä¾‹**ï¼šæœ¬ç¤ºä¾‹å‚è€ƒ\"äººä½“æ£€æµ‹å’Œè·Ÿè¸ª(YOLO Pose)\"çš„é…ç½®æ–¹å¼\n\n## ğŸ¯ å¿«é€Ÿå¼€å§‹\n\n### ä½¿ç”¨æµç¨‹\n1. **é€‰æ‹©æ‘„åƒå¤´ç±»å‹**ï¼šæ ¹æ®ç¡¬ä»¶é€‰æ‹©MIPIæˆ–USBæ‘„åƒå¤´\n2. **å¯åŠ¨æ£€æµ‹æœåŠ¡**ï¼šç‚¹å‡»å¯¹åº”çš„å¯åŠ¨æŒ‰é’®\n3. **æŸ¥çœ‹è§†é¢‘æµ**ï¼šç‚¹å‡»\"æ‰“å¼€å¯è§†åŒ–é¡µé¢\"åœ¨æµè§ˆå™¨ä¸­æŸ¥çœ‹å®æ—¶æ£€æµ‹ç”»é¢\n4. **åœæ­¢æœåŠ¡**ï¼šå®Œæˆåç‚¹å‡»\"åœæ­¢æ‰€æœ‰æœåŠ¡\"\n\n## æ”¯æŒå¹³å°\n- RDK X3 / X5 / S100\n- TROS Humble\n\n## æ ¸å¿ƒåŠŸèƒ½\n- äººä½“æ£€æµ‹\n- äººè„¸æ£€æµ‹\n- å¹´é¾„è¯†åˆ«\n\n## æ ¸å¿ƒé€šä¿¡é…ç½®\n\n### WebSocketè§†é¢‘æµ\n- **è§†é¢‘æµåœ°å€**: `http://{host}:8000`\n- **å›¾åƒTopic**: `/image` (JPEGç¼–ç çš„å›¾åƒæµ)\n- **æ£€æµ‹ç»“æœTopic**: ç”±launchæ–‡ä»¶é…ç½®\n- **æ€§èƒ½**: å®æ—¶æ£€æµ‹ï¼Œå»¶è¿Ÿä½\n\n## å‚æ•°è¯´æ˜\n- **é…ç½®æ–‡ä»¶**ï¼šä»`/opt/tros/${TROS_DISTRO}/lib/mono2d_body_detection/config/`æ‹·è´\n- **Launchæ–‡ä»¶**ï¼š`face_age_detection/body_det_face_age_det.launch.py`\n- **å¯è§†åŒ–åœ°å€**ï¼šhttp://{host}:8000ï¼ˆWebSocketè§†é¢‘æµï¼‰\n\n## ğŸ“ æ‰‹åŠ¨æ‰§è¡Œå‘½ä»¤ï¼ˆå‚è€ƒï¼‰\n\n### ä½¿ç”¨MIPIæ‘„åƒå¤´\n```bash\n# é…ç½®tros.bç¯å¢ƒ\nsource /opt/tros/humble/setup.bash\n\n# è®¾ç½®TROS_DISTROå˜é‡ï¼ˆé‡è¦ï¼ï¼‰\nexport TROS_DISTRO=humble\n\n# ä»tros.bçš„å®‰è£…è·¯å¾„ä¸­æ‹·è´å‡ºè¿è¡Œç¤ºä¾‹éœ€è¦çš„é…ç½®æ–‡ä»¶\ncp -r /opt/tros/${TROS_DISTRO}/lib/mono2d_body_detection/config/ .\n\n# é…ç½®MIPIæ‘„åƒå¤´\nexport CAM_TYPE=mipi\n\n# å¯åŠ¨launchæ–‡ä»¶\nros2 launch face_age_detection body_det_face_age_det.launch.py\n```\n\n### ä½¿ç”¨USBæ‘„åƒå¤´\n```bash\n# é…ç½®tros.bç¯å¢ƒ\nsource /opt/tros/humble/setup.bash\n\n# è®¾ç½®TROS_DISTROå˜é‡ï¼ˆé‡è¦ï¼ï¼‰\nexport TROS_DISTRO=humble\n\n# ä»tros.bçš„å®‰è£…è·¯å¾„ä¸­æ‹·è´å‡ºè¿è¡Œç¤ºä¾‹éœ€è¦çš„é…ç½®æ–‡ä»¶\ncp -r /opt/tros/${TROS_DISTRO}/lib/mono2d_body_detection/config/ .\n\n# é…ç½®USBæ‘„åƒå¤´\nexport CAM_TYPE=usb\n\n# å¯åŠ¨launchæ–‡ä»¶\nros2 launch face_age_detection body_det_face_age_det.launch.py\n```\n\n**âš ï¸ æ³¨æ„**ï¼šä½¿ç”¨ `${TROS_DISTRO}` å˜é‡å‰å¿…é¡»å…ˆè®¾ç½® `export TROS_DISTRO=humble`ï¼Œå¦åˆ™å‘½ä»¤ä¼šå¤±è´¥ï¼"
    },
    {
        "id": "comment_camera_section",
        "type": "comment",
        "z": "face_age_detection_tab",
        "name": "1ï¸âƒ£ é€‰æ‹©æ‘„åƒå¤´ç±»å‹",
        "info": "æ ¹æ®æ‚¨çš„ç¡¬ä»¶é€‰æ‹©ç›¸åº”çš„æ£€æµ‹æ–¹å¼",
        "x": 200,
        "y": 40,
        "wires": []
    },
    {
        "id": "comment_mipi_section",
        "type": "comment",
        "z": "face_age_detection_tab",
        "name": "ğŸ“· MIPIæ‘„åƒå¤´æ£€æµ‹",
        "info": "ä½¿ç”¨MIPIæ‘„åƒå¤´è¿›è¡Œå®æ—¶äººè„¸å¹´é¾„æ£€æµ‹",
        "x": 180,
        "y": 80,
        "wires": []
    },
    {
        "id": "inject_mipi_start",
        "type": "inject",
        "z": "face_age_detection_tab",
        "name": "MIPIæ‘„åƒå¤´æ£€æµ‹",
        "props": [
            {"p": "payload"},
            {"p": "topic", "vt": "str"}
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "mipi_detection",
        "payload": "start",
        "payloadType": "str",
        "x": 140,
        "y": 120,
        "wires": [["exec_mipi_detection"]]
    },
    {
        "id": "exec_mipi_detection",
        "type": "exec",
        "z": "face_age_detection_tab",
        "name": "MIPIæ£€æµ‹å¯åŠ¨å™¨",
        "command": "cd /tmp && source /opt/tros/humble/setup.bash && TROS_DISTRO=humble && cp -r /opt/tros/${TROS_DISTRO}/lib/mono2d_body_detection/config/ . 2>/dev/null || true && export CAM_TYPE=mipi && echo \"=== å¯åŠ¨MIPIæ‘„åƒå¤´äººè„¸å¹´é¾„æ£€æµ‹ ===\" && ros2 launch face_age_detection body_det_face_age_det.launch.py",
        "addpay": false,
        "append": "",
        "useSpawn": false,
        "timer": "120",
        "oldrc": false,
        "x": 380,
        "y": 120,
        "wires": [["debug_mipi_output"], ["debug_mipi_error"], []]
    },
    {
        "id": "comment_usb_section",
        "type": "comment",
        "z": "face_age_detection_tab",
        "name": "ğŸ“· USBæ‘„åƒå¤´æ£€æµ‹",
        "info": "ä½¿ç”¨USBæ‘„åƒå¤´è¿›è¡Œå®æ—¶äººè„¸å¹´é¾„æ£€æµ‹",
        "x": 180,
        "y": 160,
        "wires": []
    },
    {
        "id": "inject_usb_start",
        "type": "inject",
        "z": "face_age_detection_tab",
        "name": "USBæ‘„åƒå¤´æ£€æµ‹",
        "props": [
            {"p": "payload"},
            {"p": "topic", "vt": "str"}
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "usb_detection",
        "payload": "start",
        "payloadType": "str",
        "x": 140,
        "y": 200,
        "wires": [["exec_usb_detection"]]
    },
    {
        "id": "exec_usb_detection",
        "type": "exec",
        "z": "face_age_detection_tab",
        "name": "USBæ£€æµ‹å¯åŠ¨å™¨",
        "command": "cd /tmp && source /opt/tros/humble/setup.bash && TROS_DISTRO=humble && cp -r /opt/tros/${TROS_DISTRO}/lib/mono2d_body_detection/config/ . 2>/dev/null || true && export CAM_TYPE=usb && echo \"=== å¯åŠ¨USBæ‘„åƒå¤´äººè„¸å¹´é¾„æ£€æµ‹ ===\" && ros2 launch face_age_detection body_det_face_age_det.launch.py",
        "addpay": false,
        "append": "",
        "useSpawn": false,
        "timer": "120",
        "oldrc": false,
        "x": 380,
        "y": 200,
        "wires": [["debug_usb_output"], ["debug_usb_error"], []]
    },
    {
        "id": "comment_browser_section",
        "type": "comment",
        "z": "face_age_detection_tab",
        "name": "2ï¸âƒ£ æŸ¥çœ‹æ£€æµ‹ç»“æœ",
        "info": "åœ¨æµè§ˆå™¨ä¸­æŸ¥çœ‹å®æ—¶æ£€æµ‹ç”»é¢",
        "x": 200,
        "y": 240,
        "wires": []
    },
    {
        "id": "inject_browser",
        "type": "inject",
        "z": "face_age_detection_tab",
        "name": "æ‰“å¼€å¯è§†åŒ–é¡µé¢",
        "props": [
            {"p": "payload"},
            {"p": "topic", "vt": "str"}
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "http://{host}:8000",
        "payloadType": "str",
        "x": 140,
        "y": 280,
        "wires": [["openurl_browser"]]
    },
    {
        "id": "openurl_browser",
        "type": "rdk-tools openurl",
        "z": "face_age_detection_tab",
        "name": "",
        "x": 380,
        "y": 280,
        "wires": []
    },
    {
        "id": "comment_stop_section",
        "type": "comment",
        "z": "face_age_detection_tab",
        "name": "3ï¸âƒ£ åœæ­¢æœåŠ¡",
        "info": "åœæ­¢æ‰€æœ‰æ£€æµ‹ç›¸å…³æœåŠ¡",
        "x": 200,
        "y": 320,
        "wires": []
    },
    {
        "id": "inject_stop",
        "type": "inject",
        "z": "face_age_detection_tab",
        "name": "åœæ­¢æ‰€æœ‰æœåŠ¡",
        "props": [
            {"p": "payload"},
            {"p": "topic", "vt": "str"}
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "topic": "stop",
        "payload": "stop",
        "payloadType": "str",
        "x": 140,
        "y": 360,
        "wires": [["exec_stop_all"]]
    },
    {
        "id": "exec_stop_all",
        "type": "exec",
        "z": "face_age_detection_tab",
        "name": "åœæ­¢æ‰€æœ‰æœåŠ¡",
        "command": "sudo pkill -9 -f hobot_usb_cam; sudo pkill -9 -f face_age_detection; sudo pkill -9 -f mono2d_body_detection; sudo pkill -9 -f hobot_codec_republish; sudo pkill -9 -f websocket; sudo pkill -9 -f python3; sudo pkill -9 -f 'ros2 launch'; sudo pkill -9 -f 'ros2 run'; sleep 2; sudo rm -rf /dev/shm/*; ros2 daemon stop 2>/dev/null; sleep 1; echo 'âœ“ æœåŠ¡å·²å½»åº•åœæ­¢ï¼Œèµ„æºå·²é‡Šæ”¾'",
        "addpay": false,
        "append": "",
        "useSpawn": false,
        "timer": "10",
        "oldrc": false,
        "x": 380,
        "y": 360,
        "wires": [["debug_stop_info"], [], []]
    },
    {
        "id": "debug_mipi_output",
        "type": "debug",
        "z": "face_age_detection_tab",
        "name": "MIPIæ£€æµ‹è¾“å‡º",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 650,
        "y": 100,
        "wires": []
    },
    {
        "id": "debug_mipi_error",
        "type": "debug",
        "z": "face_age_detection_tab",
        "name": "MIPIé”™è¯¯ä¿¡æ¯",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 650,
        "y": 140,
        "wires": []
    },
    {
        "id": "debug_usb_output",
        "type": "debug",
        "z": "face_age_detection_tab",
        "name": "USBæ£€æµ‹è¾“å‡º",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 650,
        "y": 180,
        "wires": []
    },
    {
        "id": "debug_usb_error",
        "type": "debug",
        "z": "face_age_detection_tab",
        "name": "USBé”™è¯¯ä¿¡æ¯",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 650,
        "y": 220,
        "wires": []
    },
    {
        "id": "debug_stop_info",
        "type": "debug",
        "z": "face_age_detection_tab",
        "name": "åœæ­¢æœåŠ¡çŠ¶æ€",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 640,
        "y": 360,
        "wires": []
    }
]

