[
    {
        "id": "e45465d60ad5784b",
        "type": "tab",
        "label": "DOSOD ç›®æ ‡æ£€æµ‹",
        "disabled": false,
        "info": "# DOSOD ç›®æ ‡æ£€æµ‹\n\nä½¿ç”¨ç³»ç»Ÿé¢„è£…çš„ int8 æ¨¡å‹ï¼Œæ£€æµ‹ COCO æ•°æ®é›†çš„ 80 ç±»å¸¸è§ç‰©ä½“ã€‚\n\n## ä½¿ç”¨æ–¹æ³•\n1. è°ƒæ•´ç½®ä¿¡åº¦é˜ˆå€¼ï¼ˆå¯é€‰ï¼‰\n2. ç‚¹å‡»å¯åŠ¨æ£€æµ‹ï¼ˆMIPI æˆ– USBï¼‰\n3. ç­‰å¾…çº¦3ç§’ï¼Œä¸‹æ–¹ä¼šè‡ªåŠ¨å‡ºç°å®æ—¶ç”»é¢"
    },
    {
        "id": "28451cc0318a1787",
        "type": "comment",
        "z": "e45465d60ad5784b",
        "name": "âš™ï¸ ç½®ä¿¡åº¦é˜ˆå€¼ï¼ˆå¯é€‰ï¼‰",
        "info": "é»˜è®¤å€¼ï¼š0.4\n- å€¼è¶Šå°ï¼Œæ£€æµ‹åˆ°çš„ç‰©ä½“è¶Šå¤šï¼ˆå¯èƒ½åŒ…å«è¯¯æ£€ï¼‰\n- å€¼è¶Šå¤§ï¼Œåªæ˜¾ç¤ºé«˜ç½®ä¿¡åº¦ç‰©ä½“ï¼ˆå¯èƒ½æ¼æ£€ï¼‰\næ¨èèŒƒå›´ï¼š0.2 ~ 0.5",
        "x": 150,
        "y": 40,
        "wires": []
    },
    {
        "id": "954afa60a6f86f3f",
        "type": "inject",
        "z": "e45465d60ad5784b",
        "name": "è®¾ç½®ç½®ä¿¡åº¦",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "topic": "",
        "payload": "0.4",
        "payloadType": "str",
        "x": 120,
        "y": 80,
        "wires": [
            [
                "e6a123f79261d136"
            ]
        ],
        "info": "åŒå‡»ä¿®æ”¹ç½®ä¿¡åº¦å€¼ï¼ˆ0.1~0.5ï¼‰"
    },
    {
        "id": "e6a123f79261d136",
        "type": "function",
        "z": "e45465d60ad5784b",
        "name": "ä¿å­˜ç½®ä¿¡åº¦",
        "func": "var score = parseFloat(msg.payload) || 0.4;\nif (score < 0.1) score = 0.1;\nif (score > 0.5) score = 0.5;\n\nglobal.set('dosod_score_threshold', score);\n\nnode.status({\n    fill: \"green\",\n    shape: \"dot\",\n    text: \"ç½®ä¿¡åº¦: \" + score.toFixed(2)\n});\n\nmsg.payload = 'âœ“ ç½®ä¿¡åº¦å·²è®¾ç½®ä¸º: ' + score.toFixed(2);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 320,
        "y": 80,
        "wires": [
            [
                "296b526603add8de"
            ]
        ]
    },
    {
        "id": "296b526603add8de",
        "type": "debug",
        "z": "e45465d60ad5784b",
        "name": "ç½®ä¿¡åº¦çŠ¶æ€",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 520,
        "y": 80,
        "wires": []
    },
    {
        "id": "3e9c287ed9aa73e8",
        "type": "comment",
        "z": "e45465d60ad5784b",
        "name": "ğŸ“· å¯åŠ¨æ£€æµ‹",
        "info": "",
        "x": 150,
        "y": 140,
        "wires": []
    },
    {
        "id": "ca61637eab1a42a0",
        "type": "inject",
        "z": "e45465d60ad5784b",
        "name": "ğŸ“¹ MIPIæ‘„åƒå¤´",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "topic": "",
        "payload": "mipi",
        "payloadType": "str",
        "x": 120,
        "y": 180,
        "wires": [
            [
                "ac42be3f7f2ab318"
            ]
        ]
    },
    {
        "id": "e686f0fe1763d568",
        "type": "inject",
        "z": "e45465d60ad5784b",
        "name": "ğŸ¥ USBæ‘„åƒå¤´",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "topic": "",
        "payload": "usb",
        "payloadType": "str",
        "x": 120,
        "y": 220,
        "wires": [
            [
                "ac42be3f7f2ab318"
            ]
        ]
    },
    {
        "id": "ac42be3f7f2ab318",
        "type": "function",
        "z": "e45465d60ad5784b",
        "name": "æ„å»ºå¯åŠ¨å‘½ä»¤",
        "func": "var mode = msg.payload || 'usb';\nvar score = global.get('dosod_score_threshold') || 0.4;\n\n// æ„å»ºå‘½ä»¤ï¼šbash start_dosod.sh <mode> <score>\nmsg.payload = mode + ' ' + score;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 320,
        "y": 200,
        "wires": [
            [
                "d1d5a87f4ddb093a",
                "fc185c7a034c07e1"
            ]
        ]
    },
    {
        "id": "d1d5a87f4ddb093a",
        "type": "exec",
        "z": "e45465d60ad5784b",
        "command": "stdbuf -oL -eL bash /home/sunrise/.dosod_config/start_dosod.sh",
        "addpay": true,
        "append": "",
        "useSpawn": true,
        "timer": "0",
        "oldrc": false,
        "name": "å¯åŠ¨æ£€æµ‹",
        "x": 520,
        "y": 200,
        "wires": [
            [
                "21814c11fd392d7f"
            ],
            [
                "2f767a7ea1c1c927"
            ],
            []
        ]
    },
    {
        "id": "21814c11fd392d7f",
        "type": "debug",
        "z": "e45465d60ad5784b",
        "name": "å¯åŠ¨è¾“å‡º",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 720,
        "y": 180,
        "wires": []
    },
    {
        "id": "2f767a7ea1c1c927",
        "type": "debug",
        "z": "e45465d60ad5784b",
        "name": "å¯åŠ¨é”™è¯¯",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 720,
        "y": 220,
        "wires": []
    },
    {
        "id": "23c2db776831f7f9",
        "type": "comment",
        "z": "e45465d60ad5784b",
        "name": "ğŸ‘ï¸ å®æ—¶ç»“æœ",
        "info": "",
        "x": 150,
        "y": 280,
        "wires": []
    },
    {
        "id": "fc185c7a034c07e1",
        "type": "delay",
        "z": "e45465d60ad5784b",
        "name": "ç­‰å¾…å¯åŠ¨(3s)",
        "pauseType": "delay",
        "timeout": "3",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 310,
        "y": 320,
        "wires": [
            [
                "debe9c056ff08b19"
            ]
        ]
    },
    {
        "id": "debe9c056ff08b19",
        "type": "change",
        "z": "e45465d60ad5784b",
        "name": "è®¾å®šé¢„è§ˆæµ",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "ws://{host}:8000",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 510,
        "y": 320,
        "wires": [
            [
                "3159b9091be34062"
            ]
        ]
    },
    {
        "id": "3159b9091be34062",
        "type": "rdk-tools videows",
        "z": "e45465d60ad5784b",
        "name": "å®æ—¶é¢„è§ˆ",
        "fps": "2",
        "width": "640",
        "active": true,
        "x": 680,
        "y": 320,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "cd85a113e21f7a91",
        "type": "inject",
        "z": "e45465d60ad5784b",
        "name": "æ‰“å¼€æµè§ˆå™¨å¯è§†åŒ–",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 360,
        "wires": [
            [
                "dfc8896a01df5150"
            ]
        ]
    },
    {
        "id": "dfc8896a01df5150",
        "type": "function",
        "z": "e45465d60ad5784b",
        "name": "è·å–URL",
        "func": "msg.payload = 'http://{host}:8000';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 300,
        "y": 360,
        "wires": [
            [
                "631d917f2e3b1ff1"
            ]
        ]
    },
    {
        "id": "631d917f2e3b1ff1",
        "type": "rdk-tools openurl",
        "z": "e45465d60ad5784b",
        "name": "æ‰“å¼€æµè§ˆå™¨",
        "x": 480,
        "y": 360,
        "wires": []
    },
    {
        "id": "84d7e6646669ef1f",
        "type": "comment",
        "z": "e45465d60ad5784b",
        "name": "â¹ï¸ åœæ­¢æœåŠ¡",
        "info": "",
        "x": 150,
        "y": 420,
        "wires": []
    },
    {
        "id": "6f98b3899ee2944d",
        "type": "inject",
        "z": "e45465d60ad5784b",
        "name": "åœæ­¢æ‰€æœ‰æœåŠ¡",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 120,
        "y": 460,
        "wires": [
            [
                "bef0afad0e43f123"
            ]
        ]
    },
    {
        "id": "bef0afad0e43f123",
        "type": "exec",
        "z": "e45465d60ad5784b",
        "command": "sudo pkill -2 -f ros; sleep 3;",
        "addpay": false,
        "append": "",
        "useSpawn": "false",
        "timer": "10",
        "winHide": false,
        "oldrc": false,
        "name": "åœæ­¢æœåŠ¡",
        "x": 320,
        "y": 460,
        "wires": [
            [
                "a80f394630fbe914"
            ],
            [],
            []
        ]
    },
    {
        "id": "a80f394630fbe914",
        "type": "debug",
        "z": "e45465d60ad5784b",
        "name": "åœæ­¢çŠ¶æ€",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 520,
        "y": 460,
        "wires": []
    },
    {
        "id": "c741f9e03e021b4e",
        "type": "global-config",
        "env": [],
        "modules": {
            "node-red-node-rdk-tools": "0.0.27"
        }
    }
]